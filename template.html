<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Overwatch: Can We Queue?</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


    <!-- page content css -->
    <link rel="stylesheet" type="text/css" href="css/ow.css">

    <!-- Custom styles for this template -->
    <link href="css/simple-sidebar.css" rel="stylesheet">

    <!-- favicon -->
    <link rel="shortcut icon" href="img/favicon.ico"/>
</head>
<div class="background"></div>
<body>

    <div id="wrapper" class="toggled">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <div>
                        Tools
                    </div>
                </li>
                <li>
                    <a class="btn btn-secondary side-btn" id="refresh-btn">Update Acct. Ratings &#8635;</a>
                </li>
                <li>
                    <a class="btn btn-secondary side-btn" id="add-account-btn">
                        Add Account
                    </a>
                </li>
                <li id="add-account-wrapper" style="display:none; margin-bottom:10px;">
                    <div class="input-group" style="margin:0 20px 10px; width:auto;">
                        <span class="input-group-addon"><img src="img/user.png" style="width:15px"></span>
                        <input id="name-input-field" type="text" class="form-control" placeholder="Account Name">
                    </div>
                    <div class="input-group" style="margin:0 20px; width:auto;">
                        <span class="input-group-addon">
                            <div style="font-weight:900; padding: 0 3px; text-indent:0;">#</div>
                        </span>
                        <input id="number-input-field" type="text" class="form-control" placeholder="Number">
                    </div>
                    <div id="add-account-submit-btn" class="btn btn-primary" style="cursor:pointer; margin-left: 145px;padding-left:0;margin-top: 10px;">Add<img src="img/plus.png" style="width:20px;padding-left:5px;"></div>
                </li>
                <li>
                    <a href="#">Account-History</a>
                </li>
                <li>
                    <a href="#">Dashboard</a>
                </li>
                
            </ul>
            <div id="ow-logo-sidebar"></div>
        </div>
        <!-- /#sidebar-wrapper -->

<!-- Page Content -->
<div id="page-content-wrapper">
    <div class="container-fluid" id="accounts-pane">
        <h2>Accounts</h2>
        {{accounts}}
    </div>
</div>
<!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="js/ow.js"></script>

    <!-- Menu Toggle Script -->
    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });

    //refresh cache button event
    $("#refresh-btn").click(function(e) {
        e.preventDefault();
        apiRefresh();
    });

    //toggle add account button event
    $("#add-account-btn").click(function(e){
        e.preventDefault();
        $("#add-account-wrapper").slideToggle();
    });

    $("#add-account-submit-btn").click(function(e){
        e.preventDefault();
        
        //slide up box
        $("#add-account-wrapper").slideToggle();
        var name = $("#name-input-field");
        var number = $("#number-input-field");

        apiAddNewAccount(name.val(), number.val());
        
        $("#name-input-field").val('');
        $("#number-input-field").val('');
    });

    $(".delete-account-btn").click(function(e){
        e.preventDefault();

        var accountName = $(this).parent().attr("id");

        apiRemoveAccount(accountName);
    })
    </script>

</body>

</html>
